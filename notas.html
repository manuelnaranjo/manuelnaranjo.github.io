<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>jmpress.js | presentation screen</title>

    <meta name="description" content="jmpress.js is a jQuery plugin to build a website on the infinite canvas">
    <meta name="author" content="Kyle Robinson Young @shama & Tobias Koppers @sokra" />
    <meta name="viewport" content="width=device-width, height=device-height, maximum-scale=1.0, initial-scale=1.0, user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta http-equiv="expires" content="0">
    <link href="./css/notas.css" rel="stylesheet" />
  </head>
  <body>
    <div id="caratula">
      <h1>Caratula</h1>
      Gracias a todos por venir, mi nombre es Manuel Naranjo, soy estudiante
      de ing electrónica de la facultad de la facu de ing y ciencias exactas de
      Rosario, y la está noche voy a contarles un poco de que se trata mi
      proyecto final el cuál desarrollé entre Mayo y Octubre de 2013.<br>
      El mismo consistió en realizar una reingenería de un torno CNC, lo cuál
      se conoce en la industria como refitting, o como llegue a denomiarlo....
      Enchulame el torno.
    </div>
    <div id="objetivos">
      <h1>Objetivos</h1>
      Qué quiero decir con reingenería o refitting, o mejor dicho cuáles fueron
      los objetivos del proceso que lleve adelante (slide)<br>
    </div>
    <div id="step-3">
      <h1>Convertir</h1>
      A rasgos generales el proceso consiste en reemplazar y/o actualizar
      tecnológicamente algunos componentes de una máquina en funcionamiento,
      y lograr que la misma vuelva a producción. En esté caso en particular el
      proceso lo inició un tercero, y al momento de iniciar mis tareas el estado
      de la máquina era (slide)<br>
    </div>
    <div id="step-4">
      <h1>Fotos</h1>
      En estas imagenes pueden notar que la máquina no se encontraba funcional,
      sino que por el contrario se encontraba desmantelada.
      Acá podemos ver las bancadas del eje X y Z, el sistema porta-herramientas,
      el cabezal con el husillo y el tablero eléctrico (slide)<br>
    <div id="step-8">
      <h1>EN</h1>
      Luego de aplicar el proceso de refitting, logré el resultado que se ve a
      continuación, acá podemos ver la máquina de lejos, el porta herramientas
      con una pieza siendo trabajada, el saca-virutas, el tablero eléctrico
      (slide)
    </div>
    <div id="intro-torno">
      <h1>Qué es un torno?</h1>
      Básicamente un torno es una máquina herramienta, que
      funciona por desprendimiento de viruta, y la cual permite trabajar piezas
      de revolución, dado que es una máquina de desprendimiento o de desbaste.
      (slide)
    <div id="step-15">
      <h1>Pieza en bruto</h1>
      se parte de una pieza de mayores dimensiones (slide)
    </div>
    <div id="step-16">
      <h1>Pieza terminada</h1>
      llegandosé a una de menores (slide) con distintas especificaciones, como
      diametros, largos, prugosidades, roscas, entre otras.
    </div>
    <div id="intro-cnc">
      <h1>Qué es una máquina CNC?</h1>
      Bueno es una máquina herramienta (en particular un
      torno en este caso en particular), al cuál se le acopla una computadora, a
      la cual lleva un programa que especifica el movimiento de las herramientas
      de corte asociados a la pieza a fabricar. (slide)<br>
    </div>
    <div id="step-18">
      Cuáles son las ventajas de una máquina CNC, como se menciono tiene un programa
      de pieza, lo cuál asociado al control automátizado del movimiento de ejes,
      permite una alta repetividad en medianos y grandes volúmenes de producción.
      (slide)<br>
    </div>
    <div id="step-19">
      <h1>Cómo distinguir un torno CNC de otro?</h1>
      Por un lado están las caraceterísticas
      constructivas:
      <ul>
        <li>Largo máximo de desplazamiento de los ejes</li>
        <li>peso máximo tolerado en el husillo</li>
        <li>largo y diámetro máximo tolerado por el husillo</li>
        <li>velocidad de avance rápido (teniendo en cuenta que la velocidad durante el desbaste
          queda determinado por el material a trabajar, la herramienta y la capacidad
          de disipar calor)</li>
        <li>cantidad de herramientas y tiempo de cambio de las mismas</li>
      </ul>
      Por otro lado la controladora CNC, qué es la encargada de controlar el
      movimiento, proveer la HMI y llevar cuenta del programa de pieza, es una
      característica fundamental, capacidades de memorias, velocidades de
      procesamiento, cantidad de ejes que puede controlar, PLC integrado y
      ciclos enlatados, los cuales permiten con pocas instrucciones de definición
      de pieza lograr movimientos complejos.
    </div>

    <div id="step-20">
      Ahora que entendimos un poco de que se trata un torno CNC, y cuáles eran
      mis objetivos, voy a contarles un poco cómo fue el proceso que se llevo a
      cabo.<br>
    </div>
    <div id="step-21">
      Se inicio tratando de identificar subsistemas, o bloques de funcionalidades
      similares, los cuales pudiesen ser resueltos por separado, e integrados en
      una solución final utilizando una solución del tipo bottom-up
    </div>
    <div id="step-22">
      Para ello fue necesario clasificar e investigar los distintos componentes
      tanto actuales como previos, compararlos con otras máquinas disponibles e
      investigar su documentación, para tener un primer pantallazo.<br>
      En particular podemos mencionar
    </div>
    <div id="step-23">
      <h1>La controladora CNC</h1>
      Se trata de una Fagor 8035-m configurada en modo
      torno, la cuál cuenta con:
      <ul>
        <li>capacidad para control analógico o digital por vía CAN de 3 ejes</li>
        <li>una pantalla LCD color</li>
        <li>computadora básadada en un PowerPC (RISC)</li>
        <li>Linux 2.4 modificado con módulo de tiempo real</li>
        <li>PLC integrado con control sobre salidas y entradas digitales de 24VCC</li>
        <li>Programación por códigos ISO G</li>
        <li>ciclos enlatados, los cuales permiten por ejemplo con una sóla instrucción G realizar un cilindrado
          siguiendo un perfil complejo.</li>
      </ul>
    </div>
    <div id="step-24">
      <h1>Drivers y servos</h1>
      utilizados en los ejes son marca Estun, los mismos
      tienen una velocidad máxima de 2000rpm, permitiendo picos de 3000rpm por
      unos pocos minutos, encoder diferencial acoplado al eje de 17bits + sentido,
      modo de control proporcional o manual, ganancia ajustable, divisior para
      el encoder, detector de errores, control y alimentación independiente.
    </div>
    <div id="step-25">
      Dada la complejidad del sistema fue fundamental dividir el sistema en
      subsistemas más pequeños, sencillos e indivisibles, también se definieron
      hitos esperables a resolver con tiempos estimados, ahora les voy a contar
      de algunos de dichos subsistemas y como se resolvieron.
    </div>
    <div id="step-26">
      Lo primero a resolver fue el sistema electrico, dada la cantidad de componentes
      que intervienen, alimentacin DC y AC tanto monofásica como trifásica,
      señales de control de DC y AC, drivers de ejes e inversor del husillo,
      actuadores  y sensores, protecciones, etapas de baja y alta tensión, etc.
      Hacen que el circuito eléctrico no sea trivial de resolver, se contaba con
      el respaldo de la documentación provista por los distintos fabricantes, manual
      original de la máquina y de otras máquinas para comparar.
    </div>
    <div id="step-27">
      Dado que no se sabía si la controladora funcionaba se realizo un conexionado
      temporal que sólo permitiese prender la misma. El resultado fue el siguiente
      (step)<br>
      Esté fue un hito menor, pero importante, ya que permitió investigar la
      controladora funcionando, y suponer que el proyecto era posible de realizar.
    </div>
    <div id="step-28">
      Se realizaron distintos esquemas eléctricos, siguiendo los lineamientos del
      manual original de la máquina, los mismos se agruparon por grupo funcional,
      se realizó un borrador inicial y se procedió a conectarlos iterativamente,
      corrigiendolos sobre la marcha, pero teniendo los borradores como guía.(step)
    </div>
    <div id="step-29">
      El resultado final fue esté, acá se pueden ver todos los esquemas realizados,
      podemos por ejemplo agrandar uno (step)
    </div>
    <div id="esquema-mostrado">
      Esté es el diagrama de conexión del eje Z, el cuál es similar al eje X y al
      cambiador de herramientas. En particular podemos ver la alimentación trifásica
      de potencia (la cuál sólo está disponible en condiciones normales de
      funcionamiento), la alimentación monofásica a la etapa de control, la salida
      trifásica hacía el motor, el conexioado entre el encoder y el driver y las
      entradas y salidas hacia el CNC.
    </div>
    <div id="step-41">
      Si recuerdan les dije que un torno era una máquina que trabajaba con piezas
      de revolución, para eso se mueve una herramienta de corte en un eje paralelo
      al eje de rotación (el cuál se conoce como eje Z) y otro eje el cuál es
      perpendicular al eje de rotación (se lo conoce como eje X). <br>
      Hay un tercer eje que se ajusto que es el eje de movimiento del cambiador
      de herramientas, el cuál vamos a denominar T por ahora.
    </div>
    <div id="step-42">
      dado que la controladora es genérica, dichos ejes requieren pasar por un proceso de
      ajuste, por ejemplo hay que decirle a la controladora que tipo de eje y en
      qué puerto, cuál es la relación entre vueltas de los motores y avance del
      eje, límites de movimiento, ganancias de los lazos de control, etc.<br>
      Dicho proceso no es trivial y requeriró bastante trabajo, coordinando
      programación del PLC con la configuración de parámetros utilizando los
      distintos manuales como guías. En forma general podemos decir que los
      hitos a realizar son: (leer y explicar títulos)
    </div>
    <div id="step-43">
      Esté es el ajuste a lazo abierto, se desconecta la salida de control del
      CNC y la carga sobre el eje, y se realiza una conexión que permite el modo manual en el driver.
      Con está prueba se busca comprobar la comunicación entre el driver, el motor
      y el encoder, por ejemplo alguno de los ejes tenía mal cableado el encoder
      y el driver mostraba error. (step) <br>
      Esté paso fue un hito vamos al siguiente.
    </div>
    <div id="step-45">
      A continuación se conecta la señal de control del CNC al driver, y la realimentación
      del driver al CNC. Lo que podría y de hecho sucede son varias cosas, por un lado
      existe un offset entre la controladora y cada uno de sus ejes lo cuál es
      necesario de ajustar, también puede suceder que el sentido de la señal de
      realimentación coincida con el sentido del valor de set en la entrada del
      lazo de control, lo cuál conlleva a una acumulación de error, y el efecto
      de ambos lo comprobamos en la pantalla, viendo que la posición no se queda estable.
      <br>(slide)Estó se ajusto y fue un nuevo hito, dando el siguiente resultado.
    </div>
    <div id="step-46">
      Acá podemos ver la posición de los ejes a la izq y el error medido por el
      CNC a la derecha, el error estático y dinámico es configurable y acotable.
      Vemos que sólo durante el movimiento el error dinámico crece, y luego dado
      que se controla velocidad y se realimenta posición el error estático tiende
      a 0.<br>(step)Esté es nuevo hito, ya que significa que la controladora tiene
      controlado a los ejes, y los mismos no van a embalarse al conectar la carga
    </div>
    <div id="step-47">
      El siguiente paso importante fue conectar la carga a los ejes, y ajustar la
      relación del paso de los tornillos de precisión, lo que equivale a mm de avance
      por vuelta del motor y cantidad de pulsos por vuelta del mismo. Se decidió
      configurar los drivers para tener pulsos en potencias de 2 por vuelta del
      tornillo. En está etapa también se ajusta el sentido de las señales de
      control para coincidir con el sentido esperado para el movimiento del eje. <br>
      El sistema dispone de unos fines de carrera disponibles en los extremos
      máximos de los tornillos, los mismos se utilizan como referencia fija de
      máquina, y se configuran límites por software para restringir el movimienento
      máximo del carro.<br>
      Con un calibre magnetico se constanta que no existan sobre valores en el
      movimiento del eje.
    </div>
    <div id="step-48">
      A continuación con la ayuda de un osciloscopio se mide la señal de control de
      velocidad tanto en asceleración como en desaceleración. Se busca que la velocidad
      no presente oscilaciones importantes (las vistas se asocian al DAC), ya
      que los mismos se asociarían a sobre-valores. Se pueden ajustar ganancias
      proporcionales, derivativas, feed-forwards, y ac-forward (integrativa) y
      compensación slashback (sobre valor al cambiar de sentido) la cual no fue
      necesaria por la mecánica de los mismos tornillos, se comprobó que por
      cuestiones mecánicas se obtenian los mejores resultados con ganancia
      proporcional, sino producía sonidos feos.<br>
      Se ajustan velocidades máximas y se logra lo siguiente (slide)
    </div>
    <div id="step-49">
      Terminando el ajuste de los ejes. Esté proceso primero se realizo por cada
      eje y luego se fue combinando como se ve en el video. El avance máximo
      configurado es para el eje X 15m/min (0.9km/h) y eje Z 18m/min (1.08km/h)
      con un recorrido de 210mm en el X y 360mm en el Z. Siendo la aceleración
      bastante importante.
    </div>
    <div id="step-50">
      <h1>Cambiador de herramientas</h1>
      Ahora les voy a contar del otro sistema complejo que cuenta el sistema, esté
      subsistema es por lejos el más complejo que se encuentra en la máquina, ya que
      combina el ajuste del eje de movimiento con iteracciones con actuadores y
      una máquina de estado asociada.
    </div>
    <div id="step-51">
      Acá podemos ver una foto del cambiador de herramientas previo a que se coloque
      la tapa cubre caja. Podemos ver:
      <ul>
        <li>El plato dónde se dispone de 10 bolsillos porta-herramientas</li>
        <li>La caja reductora</li>
        <li>El servo-motor eléctrico</li>
        <li>El actuador neumático</li>
        <li>El sensor de referencia</li>
        <li>Manguera por la cuál se transmite el líquido refrigerante</li>
      </ul>
      Detrás del plato se disponen de unas cuñas metálicas las cuales trabajan
      cuando el plato está bloqueado y ayudan a posicionar correctamente al mismo
      cuando se retrae. El principio de funcionamiento es el siguiente, suponiendo
      el plato bloqueado, se solicita el cambio de herramientas, entonces se
      activa el actuador, se espera a la señal que indica que el actuador a
      cambiado totalmente de estado, se energiza el servo-motor, se calcula la nueva
      posición en función de la herramienta solicitada, se solicita al CNC que
      realice el movimiento, se espera que se alcance la posición, se quita
      la energía al servo, se retrae el actuador y se espera a que el mismo llegue
      a la posición de bloqueo.
    </div>
    <div id="step-52">
      Acá podemos ver el proceso mencionado.<br>
      Cómo podrán notar el tiempo de cambio de estado del actuador es considerable
      e incluso mayor que el tiempo necesario para realizar el movimiento. Esto
      limíta la posibilidad de hacer más rápido el cambio de herramientas ya que
      dicho tiempo no se puede variar sin cambiar de actuador.<br>
      También pueden notar que el movimiento no es siempre en el mismo sentido, y
      eso se debe a qué el CNC permite configurar los ejes rotativos como sólo posición
      y calcula el camino más corto.
    </div>
    <div id="step-53">
      El siguiente elemento fundamental para que la máquina sea efectivamente un
      torno es que la pieza a trabajar gire, para ello se cuenta con un motor
      trifásico de 30Hp acoplado a un husillo vía correas, sobre el cuál se monta
      un cabezal de mordazas hidráulicas las cuales aprietan la pieza. Para el
      control de velocidad del motor se dispone de un inversor trifásico senoidal
      de la marca Mitsubishi capaz de entregar frecuencias de entre 0.4Hz y 400Hz.
      Se cuenta con un encoder diferencial acoplado al husillo el cuál permite
      monitorear la velocidad de giro del husillo, se han medido velocidades de
      hasta 4000rpm, pero en producción está máquina no suele superar los 2000rpm,
      por el tipo de aplicaciones que se le da.
    </div>
    <div id="step-54">
      El sistema se compone de estas mordazas metálicas las cuales aprietan a la
      pieza a trabajar, las mismas son movidas con la presión entregada por una
      bomba hidráulica de presión constante monitoreada por el PLC.
    </div>
    <div id="step-55">
      Acá podemos ver el cabezal duante el proceso de ajuste de las mordazas,
      metálicas, estas mordazas son universales y son torneadas para ajustar a la
      pieza sin dejar marcas. El agarre de la pieza puede ser tanto por el diámetro
      exterior como el interior.
    </div>
    <div id="step-56">
      Acá podemos ver el cabezal girando a velocidad controlada. No se dispone de
      control de posición ya que no se dispone de referencia fija, y el inversor
      no cuenta con la posibilidad de regular por debajo de los .4Hz (50rpms)<br>
      Respecto a seguridad el PLC monitorea el estado del inversor, la presión de
      la bomba hidráulica, y evita que se pueda liberar la pieza cuando se encuentra
      girando con una pieza agarrada, teniendo en cuenta el diámetro utilizado para
      mecanizar.
    </div>
    <div id="step-57">
      La máquina cuenta con otros sistemas que complementan al proceso productivo,
      uno de dichos sistemas es el saca-virutas, el cuál permite quita los restos
      de la producción de forma periódica.
    </div>
    <div id="step-58">
      En esté video podemos ver el saca virutas funcionando
    </div>
    <div id="step-59">
      Dado el movimiento propio de los ejes, la lubricación es fundamental a fin
      de reducir la fricción entre las partes metálicas. Para eso sobre los ejes
      se cuenta con dosificadores a los cuales se les inyecta aceite lubricante
      mezclado con aire a presión, el tiempo de aplicación y el periódo es controlado
      por el PLC, se programó lubricación automática al prender la máquina, al
      recorrer cierta cantidad de tiempo, y al alcanzar cierta distancia. También
      se le dispone al operador la posibilidad de lubricar manualmente.
      El cambiador no requiere lubricación externa ya que se compone de una caja
      de cambios inundada de aceite lubricante.
    </div>
    <div id="step-60">
      El desprendimiento de viruta en metales es un proceso que funciona por
      grandes fricciones, lo cuál conlleva disipación de calor, se dispone de
      aceite refrigerante diluido en agua en una cuba bajo la bancada, y una bomba
      controlada por el PLC, permitiendo al usuario controlarlo tanto por código G,
      cómo por teclado.
    </div>
    <div id="step-61">
      Como les conte el largo máximo de pieza es una característica que queda
      definida por el cabezal, la contra-punta es un dispositivo accionado por una
      bomba hidráulica controlada por el PLC el cuál permite agregar un segundo
      punto de apoyo extendiendo el largo máximo.<br>
    </div>
    <div id="step-62">
      El último sistema que les voy a mencionar es el part-catcher, el cuál se compone
      de un actuador neumático y una bandeja recoge pieza, el cuál permite en determinados
      tipos de piezas lograr producción continua sin tiempo de parada por cambio de
      pieza.
    </div>
    <div id="step-63">
      Bueno teniendo todos los subsistemas andando llego el momento esperado, que
      fue el de realizar las primeras pruebas de integración.
    </div>
    <div id="step-64">
      Se inició con el mecanizado de barras de grillón, el cuál es un material
      plástico más blando y liviano que el acero. Con estó se comprobó que se pudiese
      mover los ejes de forma coordinada, junto al husillo.
    </div>
    <div id="step-65">
      Luego se procedio a mecanizar una barra de acero, acá se comprobó que el sistema
      de control respondiese de forma correcta y no se produciesen vibraciones en la
      herramienta.
    </div>
    <div id="step-66">
      Luego se colocaron todas las chapas metálicas dispuestas en la máquina, y se
      procedió a realizar pruebas más reales.
    </div>
    <div id="step-67">
      El primer paso fue mecanizar barras de grillón con varias herramientas.
    </div>
    <div id="step-68">
      Finalmente les puedo mostrar la máquina realizando producción real, lo cuál
      se utilizó como prueba final de integración.
    </div>
    <div id="step-69">
      Obviamente hubieron problemas, algunos solucionables, en otros hubo que encontrar
      determinaciones del por qué no era solucionable, y como actuar en función de ello.
      Por nombre algunos:
      <ul>
        <li>Proceso inicial no documentado y con una mala implementación</li>
        <li>Falta de conocimientos y lenguajes relacionados</li>
        <li>Accidente eje X</li>
        <li>Complejidad del porta herramietnas</li>
        <li>Oscilación en baja frecuencia de la salida del inversor</li>
        <li>Documentación y entrenamiento del personal</li>
      </ul>
    </div>
    <div id="step-70">
      La conclusión principal es que el proceso fue positivo, y se logró recuperar
      la máquina, logrando que la misma volviese a producción. El proceso fue
      enriquesedor, ya que permitió aplicar conocimientos de distintas materias de
      la carrera, e incluso incorporar conocimientos extras.<br>
      A Futuro se contempla:
      <ul>
        <li>Reparación y reingeneria de otras máquinas CNC</li>
        <li>Redes de monitoreo basadas en DNC por Ethernet y Serie</li>
        <li>Software de monitoreo hecho a medida</li>
      </ul>
    </div>
  </body>
</html>
